{"ast":null,"code":"import _slicedToArray from\"/srv/crypto/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import loaderTitle from'assets/images/loader-title.png';import classes from'./style.module.scss';import{motion}from'framer-motion';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var maxCount=100;var duration=5;// sec\nfunction randomIntFromInterval(min,max){// min and max included \nreturn Math.floor(Math.random()*(max-min+1)+min);}export function Loader(_ref){var setIsloading=_ref.setIsloading;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),count=_useState2[0],setCount=_useState2[1];useEffect(function(){if(count>=100)setIsloading(false);if(count<100){setTimeout(function(){if(maxCount-count<=maxCount/duration)return setCount(100);setCount(function(s){var addNumLoadCount=randomIntFromInterval(1,maxCount/duration);return s+addNumLoadCount;});},Math.random()*12000);}},[count,setIsloading]);return/*#__PURE__*/_jsxs(motion.div,{className:classes.loaderWrapper,initial:{opacity:1},exit:{opacity:0},children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.loaderTitleBlock,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.shadow}),/*#__PURE__*/_jsx(\"img\",{className:classes.loaderTitleImg,src:loaderTitle,alt:\"\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.counterLoader,duration:5,start:0,end:100,suffix:'%',onEnd:function onEnd(){return setIsloading(false);},children:[count,\"%\"]})]});}","map":{"version":3,"names":["useEffect","useState","loaderTitle","classes","motion","maxCount","duration","randomIntFromInterval","min","max","Math","floor","random","Loader","setIsloading","count","setCount","setTimeout","s","addNumLoadCount","loaderWrapper","opacity","loaderTitleBlock","shadow","loaderTitleImg","counterLoader"],"sources":["/srv/crypto/src/components/sections/Loader/Loader.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport loaderTitle from 'assets/images/loader-title.png';\nimport classes from './style.module.scss';\nimport {motion} from 'framer-motion'\n\nconst maxCount = 100;\nconst duration = 5; // sec\n\nfunction randomIntFromInterval(min, max) { // min and max included \n  return Math.floor(Math.random() * (max - min + 1) + min)\n}\n\nexport function Loader({ setIsloading }) {\n  const [count, setCount] = useState(0);\n\n  useEffect(() => {\n\t\tif (count >= 100) setIsloading(false);\n\n\t\tif (count < 100) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (maxCount - count <= maxCount / duration) return setCount(100);\n\n\t\t\t\tsetCount(s => {\n\t\t\t\t\tconst addNumLoadCount = randomIntFromInterval(1, maxCount / duration);\n\t\t\t\t\treturn s + addNumLoadCount;\n\t\t\t\t});\n\t\t\t}, Math.random() * 12000);\n\t\t}\n\t}, [count, setIsloading]);\n\n  return (\n      <motion.div\n        className={classes.loaderWrapper}\n        initial={{\n          opacity: 1\n        }}\n        exit={{\n          opacity: 0\n        }}\n      >\n        <div className={classes.loaderTitleBlock}>\n          <div className={classes.shadow} />\n          <img className={classes.loaderTitleImg} src={loaderTitle} alt=\"\" />\n        </div>\n        <div\n          className={classes.counterLoader}\n          duration={5}\n          start={0}\n          end={100}\n          suffix={'%'}\n          onEnd={() => setIsloading(false)}\n        >\n          {count}%\n        </div>\n      </motion.div>\n  )\n}\n"],"mappings":"iGAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,YAAP,KAAwB,gCAAxB,CACA,MAAOC,QAAP,KAAoB,qBAApB,CACA,OAAQC,MAAR,KAAqB,eAArB,C,wFAEA,GAAMC,SAAQ,CAAG,GAAjB,CACA,GAAMC,SAAQ,CAAG,CAAjB,CAAoB;AAEpB,QAASC,sBAAT,CAA+BC,GAA/B,CAAoCC,GAApC,CAAyC,CAAE;AACzC,MAAOC,KAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,IAAiBH,GAAG,CAAGD,GAAN,CAAY,CAA7B,EAAkCA,GAA7C,CAAP,CACD,CAED,MAAO,SAASK,OAAT,MAAkC,IAAhBC,aAAgB,MAAhBA,YAAgB,CACvC,cAA0Bb,QAAQ,CAAC,CAAD,CAAlC,wCAAOc,KAAP,eAAcC,QAAd,eAEAhB,SAAS,CAAC,UAAM,CAChB,GAAIe,KAAK,EAAI,GAAb,CAAkBD,YAAY,CAAC,KAAD,CAAZ,CAElB,GAAIC,KAAK,CAAG,GAAZ,CAAiB,CAChBE,UAAU,CAAC,UAAM,CAChB,GAAIZ,QAAQ,CAAGU,KAAX,EAAoBV,QAAQ,CAAGC,QAAnC,CAA6C,MAAOU,SAAQ,CAAC,GAAD,CAAf,CAE7CA,QAAQ,CAAC,SAAAE,CAAC,CAAI,CACb,GAAMC,gBAAe,CAAGZ,qBAAqB,CAAC,CAAD,CAAIF,QAAQ,CAAGC,QAAf,CAA7C,CACA,MAAOY,EAAC,CAAGC,eAAX,CACA,CAHO,CAAR,CAIA,CAPS,CAOPT,IAAI,CAACE,MAAL,GAAgB,KAPT,CAAV,CAQA,CACD,CAbS,CAaP,CAACG,KAAD,CAAQD,YAAR,CAbO,CAAT,CAeA,mBACI,MAAC,MAAD,CAAQ,GAAR,EACE,SAAS,CAAEX,OAAO,CAACiB,aADrB,CAEE,OAAO,CAAE,CACPC,OAAO,CAAE,CADF,CAFX,CAKE,IAAI,CAAE,CACJA,OAAO,CAAE,CADL,CALR,wBASE,aAAK,SAAS,CAAElB,OAAO,CAACmB,gBAAxB,wBACE,YAAK,SAAS,CAAEnB,OAAO,CAACoB,MAAxB,EADF,cAEE,YAAK,SAAS,CAAEpB,OAAO,CAACqB,cAAxB,CAAwC,GAAG,CAAEtB,WAA7C,CAA0D,GAAG,CAAC,EAA9D,EAFF,GATF,cAaE,aACE,SAAS,CAAEC,OAAO,CAACsB,aADrB,CAEE,QAAQ,CAAE,CAFZ,CAGE,KAAK,CAAE,CAHT,CAIE,GAAG,CAAE,GAJP,CAKE,MAAM,CAAE,GALV,CAME,KAAK,CAAE,uBAAMX,aAAY,CAAC,KAAD,CAAlB,EANT,WAQGC,KARH,OAbF,GADJ,CA0BD"},"metadata":{},"sourceType":"module"}