{"ast":null,"code":"import _objectSpread from\"/srv/crypto/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/srv/crypto/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectWithoutProperties from\"/srv/crypto/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"name\",\"precent\",\"type\"];import{useState}from'react';import classes from'./style.module.scss';import mapGraphic from'utils/mapGraphic';import CountUp from'react-countup';import VisibilitySensor from'react-visibility-sensor';import{motion}from'framer-motion';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Stick=function Stick(_ref){var _ref$isEmpty=_ref.isEmpty,isEmpty=_ref$isEmpty===void 0?false:_ref$isEmpty,isEternal=_ref.isEternal,idx=_ref.idx;return/*#__PURE__*/_jsx(motion.span,{className:\"\".concat(classes.stick,\" \").concat(isEmpty&&classes.empty,\" \").concat(isEternal&&classes.eternal)});};export var Attr=function Attr(_ref2){var name=_ref2.name,precent=_ref2.precent,type=_ref2.type,props=_objectWithoutProperties(_ref2,_excluded);var isEternal=type==='eternal';var _useState=useState(false),_useState2=_slicedToArray(_useState,2),wasAnimate=_useState2[0],setWasAnimate=_useState2[1];function handlerStart(isVisible,start){if(!wasAnimate&&isVisible){start();setWasAnimate(true);}}var durVal=2;var durationFromVal=durVal*precent/100;return/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({className:classes.skillContainer},props),{},{children:[/*#__PURE__*/_jsx(\"p\",{className:classes.titleSkill,children:name}),/*#__PURE__*/_jsxs(\"div\",{className:classes.counterContainer,children:[/*#__PURE__*/_jsx(motion.div,{initial:{width:0},whileInView:{width:'auto'},transition:{delay:0.4,duration:durVal,ease:'easeInOut'},viewport:{once:true},className:classes.graphic,children:mapGraphic(precent,isEternal)}),/*#__PURE__*/_jsx(\"div\",{className:classes.percent,children:/*#__PURE__*/_jsx(CountUp,{start:0,end:precent,duration:durationFromVal,suffix:\"%\",delay:0.4,children:function children(_ref3){var countUpRef=_ref3.countUpRef,start=_ref3.start;return/*#__PURE__*/_jsx(VisibilitySensor,{onChange:function onChange(isVisible){return handlerStart(isVisible,start);},delayedCall:true,children:/*#__PURE__*/_jsx(\"span\",{ref:countUpRef})});}})})]})]}));};","map":{"version":3,"names":["useState","classes","mapGraphic","CountUp","VisibilitySensor","motion","Stick","isEmpty","isEternal","idx","stick","empty","eternal","Attr","name","precent","type","props","wasAnimate","setWasAnimate","handlerStart","isVisible","start","durVal","durationFromVal","skillContainer","titleSkill","counterContainer","width","delay","duration","ease","once","graphic","percent","countUpRef"],"sources":["/srv/crypto/src/components/internal/YourMorph/desktopVersonYourMorph/Attr/Attr.js"],"sourcesContent":["import { useState } from 'react';\nimport classes from './style.module.scss';\nimport mapGraphic from 'utils/mapGraphic';\nimport CountUp from 'react-countup';\nimport VisibilitySensor from 'react-visibility-sensor';\nimport { motion } from 'framer-motion';\n\nexport const Stick = ({ isEmpty = false, isEternal, idx }) => {\n  return (\n    <motion.span\n      className={`${classes.stick} ${isEmpty && classes.empty} ${\n        isEternal && classes.eternal\n      }`}\n    />)\n};\n\nexport const Attr = ({ name, precent, type, ...props }) => {\n\tconst isEternal = type === 'eternal';\n\n\tconst [wasAnimate, setWasAnimate] = useState(false);\n\n\tfunction handlerStart(isVisible, start) {\n\t\tif (!wasAnimate && isVisible) {\n\t\t\tstart();\n\t\t\tsetWasAnimate(true);\n\t\t}\n\t}\n\n\tconst durVal = 2;\n\tconst durationFromVal = (durVal * precent) / 100;\n\n\treturn (\n\t\t<div className={classes.skillContainer} {...props}>\n\t\t\t<p className={classes.titleSkill}>{name}</p>\n\t\t\t<div className={classes.counterContainer}>\n\t\t\t\t<motion.div\n\t\t\t\t\tinitial={{\n\t\t\t\t\t\twidth: 0,\n\t\t\t\t\t}}\n\t\t\t\t\twhileInView={{\n\t\t\t\t\t\twidth: 'auto',\n\t\t\t\t\t}}\n\t\t\t\t\ttransition={{\n\t\t\t\t\t\tdelay: 0.4,\n\t\t\t\t\t\tduration: durVal,\n\t\t\t\t\t\tease: 'easeInOut'\n\t\t\t\t\t}}\n\t\t\t\t\tviewport={{\n\t\t\t\t\t\tonce: true\n\t\t\t\t\t}}\n\t\t\t\t\tclassName={classes.graphic}\n\t\t\t\t>\n\t\t\t\t\t{mapGraphic(precent, isEternal)}\n\t\t\t\t</motion.div>\n\t\t\t\t<div className={classes.percent}>\n\t\t\t\t\t<CountUp\n\t\t\t\t\t\tstart={0}\n\t\t\t\t\t\tend={precent}\n\t\t\t\t\t\tduration={durationFromVal}\n\t\t\t\t\t\tsuffix='%'\n\t\t\t\t\t\tdelay={0.4}\n\t\t\t\t\t>\n\t\t\t\t\t\t{({ countUpRef, start }) => (\n\t\t\t\t\t\t\t<VisibilitySensor\n\t\t\t\t\t\t\t\tonChange={isVisible => handlerStart(isVisible, start)}\n\t\t\t\t\t\t\t\tdelayedCall\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span ref={countUpRef} />\n\t\t\t\t\t\t\t</VisibilitySensor>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</CountUp>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n"],"mappings":"8VAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,MAAOC,QAAP,KAAoB,qBAApB,CACA,MAAOC,WAAP,KAAuB,kBAAvB,CACA,MAAOC,QAAP,KAAoB,eAApB,CACA,MAAOC,iBAAP,KAA6B,yBAA7B,CACA,OAASC,MAAT,KAAuB,eAAvB,C,wFAEA,MAAO,IAAMC,MAAK,CAAG,QAARA,MAAQ,MAAyC,uBAAtCC,OAAsC,CAAtCA,OAAsC,uBAA5B,KAA4B,cAArBC,SAAqB,MAArBA,SAAqB,CAAVC,GAAU,MAAVA,GAAU,CAC5D,mBACE,KAAC,MAAD,CAAQ,IAAR,EACE,SAAS,WAAKR,OAAO,CAACS,KAAb,aAAsBH,OAAO,EAAIN,OAAO,CAACU,KAAzC,aACPH,SAAS,EAAIP,OAAO,CAACW,OADd,CADX,EADF,CAMD,CAPM,CASP,MAAO,IAAMC,KAAI,CAAG,QAAPA,KAAO,OAAuC,IAApCC,KAAoC,OAApCA,IAAoC,CAA9BC,OAA8B,OAA9BA,OAA8B,CAArBC,IAAqB,OAArBA,IAAqB,CAAZC,KAAY,2CAC1D,GAAMT,UAAS,CAAGQ,IAAI,GAAK,SAA3B,CAEA,cAAoChB,QAAQ,CAAC,KAAD,CAA5C,wCAAOkB,UAAP,eAAmBC,aAAnB,eAEA,QAASC,aAAT,CAAsBC,SAAtB,CAAiCC,KAAjC,CAAwC,CACvC,GAAI,CAACJ,UAAD,EAAeG,SAAnB,CAA8B,CAC7BC,KAAK,GACLH,aAAa,CAAC,IAAD,CAAb,CACA,CACD,CAED,GAAMI,OAAM,CAAG,CAAf,CACA,GAAMC,gBAAe,CAAID,MAAM,CAAGR,OAAV,CAAqB,GAA7C,CAEA,mBACC,yCAAK,SAAS,CAAEd,OAAO,CAACwB,cAAxB,EAA4CR,KAA5C,6BACC,UAAG,SAAS,CAAEhB,OAAO,CAACyB,UAAtB,UAAmCZ,IAAnC,EADD,cAEC,aAAK,SAAS,CAAEb,OAAO,CAAC0B,gBAAxB,wBACC,KAAC,MAAD,CAAQ,GAAR,EACC,OAAO,CAAE,CACRC,KAAK,CAAE,CADC,CADV,CAIC,WAAW,CAAE,CACZA,KAAK,CAAE,MADK,CAJd,CAOC,UAAU,CAAE,CACXC,KAAK,CAAE,GADI,CAEXC,QAAQ,CAAEP,MAFC,CAGXQ,IAAI,CAAE,WAHK,CAPb,CAYC,QAAQ,CAAE,CACTC,IAAI,CAAE,IADG,CAZX,CAeC,SAAS,CAAE/B,OAAO,CAACgC,OAfpB,UAiBE/B,UAAU,CAACa,OAAD,CAAUP,SAAV,CAjBZ,EADD,cAoBC,YAAK,SAAS,CAAEP,OAAO,CAACiC,OAAxB,uBACC,KAAC,OAAD,EACC,KAAK,CAAE,CADR,CAEC,GAAG,CAAEnB,OAFN,CAGC,QAAQ,CAAES,eAHX,CAIC,MAAM,CAAC,GAJR,CAKC,KAAK,CAAE,GALR,UAOE,4BAAGW,WAAH,OAAGA,UAAH,CAAeb,KAAf,OAAeA,KAAf,oBACA,KAAC,gBAAD,EACC,QAAQ,CAAE,kBAAAD,SAAS,QAAID,aAAY,CAACC,SAAD,CAAYC,KAAZ,CAAhB,EADpB,CAEC,WAAW,KAFZ,uBAIC,aAAM,GAAG,CAAEa,UAAX,EAJD,EADA,EAPF,EADD,EApBD,GAFD,IADD,CA4CA,CA3DM"},"metadata":{},"sourceType":"module"}