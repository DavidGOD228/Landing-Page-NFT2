{"ast":null,"code":"import * as React from 'react';\nimport useLatest from '@react-hook/latest';\nvar perf = typeof performance !== 'undefined' ? performance : Date;\n\nvar now = function now() {\n  return perf.now();\n};\n\nexport function useThrottleCallback(callback) {\n  var fps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 30;\n  var leading = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var storedCallback = useLatest(callback);\n  var ms = 1000 / fps;\n  var prev = React.useRef(0);\n  var trailingTimeout = React.useRef();\n\n  var clearTrailing = function clearTrailing() {\n    return trailingTimeout.current && clearTimeout(trailingTimeout.current);\n  };\n\n  var deps = [fps, leading, storedCallback]; // Reset any time the deps change\n\n  function _ref() {\n    prev.current = 0;\n    clearTrailing();\n  }\n\n  React.useEffect(function () {\n    return _ref;\n  }, deps);\n  return React.useCallback(function () {\n    // eslint-disable-next-line prefer-rest-params\n    var args = arguments;\n    var rightNow = now();\n\n    var call = function call() {\n      prev.current = rightNow;\n      clearTrailing();\n      storedCallback.current.apply(null, args);\n    };\n\n    var current = prev.current; // leading\n\n    if (leading && current === 0) return call(); // body\n\n    if (rightNow - current > ms) {\n      if (current > 0) return call();\n      prev.current = rightNow;\n    } // trailing\n\n\n    clearTrailing();\n    trailingTimeout.current = setTimeout(function () {\n      call();\n      prev.current = 0;\n    }, ms);\n  }, deps);\n}\nexport function useThrottle(initialState, fps, leading) {\n  var state = React.useState(initialState);\n  return [state[0], useThrottleCallback(state[1], fps, leading)];\n}","map":{"version":3,"names":["React","useLatest","perf","performance","Date","now","useThrottleCallback","callback","fps","leading","storedCallback","ms","prev","useRef","trailingTimeout","clearTrailing","current","clearTimeout","deps","_ref","useEffect","useCallback","args","arguments","rightNow","call","apply","setTimeout","useThrottle","initialState","state","useState"],"sources":["/srv/crypto/node_modules/@react-hook/throttle/dist/module/index.js"],"sourcesContent":["import * as React from 'react';\nimport useLatest from '@react-hook/latest';\nconst perf = typeof performance !== 'undefined' ? performance : Date;\n\nconst now = () => perf.now();\n\nexport function useThrottleCallback(callback, fps = 30, leading = false) {\n  const storedCallback = useLatest(callback);\n  const ms = 1000 / fps;\n  const prev = React.useRef(0);\n  const trailingTimeout = React.useRef();\n\n  const clearTrailing = () => trailingTimeout.current && clearTimeout(trailingTimeout.current);\n\n  const deps = [fps, leading, storedCallback]; // Reset any time the deps change\n\n  function _ref() {\n    prev.current = 0;\n    clearTrailing();\n  }\n\n  React.useEffect(() => _ref, deps);\n  return React.useCallback(function () {\n    // eslint-disable-next-line prefer-rest-params\n    const args = arguments;\n    const rightNow = now();\n\n    const call = () => {\n      prev.current = rightNow;\n      clearTrailing();\n      storedCallback.current.apply(null, args);\n    };\n\n    const current = prev.current; // leading\n\n    if (leading && current === 0) return call(); // body\n\n    if (rightNow - current > ms) {\n      if (current > 0) return call();\n      prev.current = rightNow;\n    } // trailing\n\n\n    clearTrailing();\n    trailingTimeout.current = setTimeout(() => {\n      call();\n      prev.current = 0;\n    }, ms);\n  }, deps);\n}\nexport function useThrottle(initialState, fps, leading) {\n  const state = React.useState(initialState);\n  return [state[0], useThrottleCallback(state[1], fps, leading)];\n}"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,IAAMC,IAAI,GAAG,OAAOC,WAAP,KAAuB,WAAvB,GAAqCA,WAArC,GAAmDC,IAAhE;;AAEA,IAAMC,GAAG,GAAG,SAANA,GAAM;EAAA,OAAMH,IAAI,CAACG,GAAL,EAAN;AAAA,CAAZ;;AAEA,OAAO,SAASC,mBAAT,CAA6BC,QAA7B,EAAkE;EAAA,IAA3BC,GAA2B,uEAArB,EAAqB;EAAA,IAAjBC,OAAiB,uEAAP,KAAO;EACvE,IAAMC,cAAc,GAAGT,SAAS,CAACM,QAAD,CAAhC;EACA,IAAMI,EAAE,GAAG,OAAOH,GAAlB;EACA,IAAMI,IAAI,GAAGZ,KAAK,CAACa,MAAN,CAAa,CAAb,CAAb;EACA,IAAMC,eAAe,GAAGd,KAAK,CAACa,MAAN,EAAxB;;EAEA,IAAME,aAAa,GAAG,SAAhBA,aAAgB;IAAA,OAAMD,eAAe,CAACE,OAAhB,IAA2BC,YAAY,CAACH,eAAe,CAACE,OAAjB,CAA7C;EAAA,CAAtB;;EAEA,IAAME,IAAI,GAAG,CAACV,GAAD,EAAMC,OAAN,EAAeC,cAAf,CAAb,CARuE,CAQ1B;;EAE7C,SAASS,IAAT,GAAgB;IACdP,IAAI,CAACI,OAAL,GAAe,CAAf;IACAD,aAAa;EACd;;EAEDf,KAAK,CAACoB,SAAN,CAAgB;IAAA,OAAMD,IAAN;EAAA,CAAhB,EAA4BD,IAA5B;EACA,OAAOlB,KAAK,CAACqB,WAAN,CAAkB,YAAY;IACnC;IACA,IAAMC,IAAI,GAAGC,SAAb;IACA,IAAMC,QAAQ,GAAGnB,GAAG,EAApB;;IAEA,IAAMoB,IAAI,GAAG,SAAPA,IAAO,GAAM;MACjBb,IAAI,CAACI,OAAL,GAAeQ,QAAf;MACAT,aAAa;MACbL,cAAc,CAACM,OAAf,CAAuBU,KAAvB,CAA6B,IAA7B,EAAmCJ,IAAnC;IACD,CAJD;;IAMA,IAAMN,OAAO,GAAGJ,IAAI,CAACI,OAArB,CAXmC,CAWL;;IAE9B,IAAIP,OAAO,IAAIO,OAAO,KAAK,CAA3B,EAA8B,OAAOS,IAAI,EAAX,CAbK,CAaU;;IAE7C,IAAID,QAAQ,GAAGR,OAAX,GAAqBL,EAAzB,EAA6B;MAC3B,IAAIK,OAAO,GAAG,CAAd,EAAiB,OAAOS,IAAI,EAAX;MACjBb,IAAI,CAACI,OAAL,GAAeQ,QAAf;IACD,CAlBkC,CAkBjC;;;IAGFT,aAAa;IACbD,eAAe,CAACE,OAAhB,GAA0BW,UAAU,CAAC,YAAM;MACzCF,IAAI;MACJb,IAAI,CAACI,OAAL,GAAe,CAAf;IACD,CAHmC,EAGjCL,EAHiC,CAApC;EAID,CA1BM,EA0BJO,IA1BI,CAAP;AA2BD;AACD,OAAO,SAASU,WAAT,CAAqBC,YAArB,EAAmCrB,GAAnC,EAAwCC,OAAxC,EAAiD;EACtD,IAAMqB,KAAK,GAAG9B,KAAK,CAAC+B,QAAN,CAAeF,YAAf,CAAd;EACA,OAAO,CAACC,KAAK,CAAC,CAAD,CAAN,EAAWxB,mBAAmB,CAACwB,KAAK,CAAC,CAAD,CAAN,EAAWtB,GAAX,EAAgBC,OAAhB,CAA9B,CAAP;AACD"},"metadata":{},"sourceType":"module"}