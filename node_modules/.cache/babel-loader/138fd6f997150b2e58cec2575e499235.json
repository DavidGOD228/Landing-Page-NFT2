{"ast":null,"code":"import _slicedToArray from\"/srv/crypto/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import useScrollPosition from'@react-hook/window-scroll';var offsetStartLazyload=150;//in px\n// source: https://stackoverflow.com/questions/51607043/how-to-lazy-load-the-background-image-inside-the-inline-style-property-react\nexport var useLazyBackgroundLoad=function useLazyBackgroundLoad(src,ref){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),sourceLoaded=_useState2[0],setSourceLoaded=_useState2[1];var currScrollY=useScrollPosition(60);useEffect(function(){if(!ref.current||!src)return;var heightRef=ref.current.scrollHeight;var positionfRef=ref.current.offsetTop;var startCordinatorsRef=positionfRef-heightRef;if(currScrollY+offsetStartLazyload>startCordinatorsRef){var img=new Image();img.src=src;img.onload=function(){return setSourceLoaded(src);};};},[src,ref,currScrollY]);return sourceLoaded;};","map":{"version":3,"names":["useState","useEffect","useScrollPosition","offsetStartLazyload","useLazyBackgroundLoad","src","ref","sourceLoaded","setSourceLoaded","currScrollY","current","heightRef","scrollHeight","positionfRef","offsetTop","startCordinatorsRef","img","Image","onload"],"sources":["/srv/crypto/src/hooks/useLazyBackgroundLoad.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport useScrollPosition from '@react-hook/window-scroll'\n\nconst offsetStartLazyload = 150; //in px\n\n// source: https://stackoverflow.com/questions/51607043/how-to-lazy-load-the-background-image-inside-the-inline-style-property-react\nexport const useLazyBackgroundLoad = (src, ref) => {\n\tconst [sourceLoaded, setSourceLoaded] = useState(null);\n  const currScrollY = useScrollPosition(60);\n\n\tuseEffect(() => {\n    if(!ref.current || !src) return;\n\n    const heightRef = ref.current.scrollHeight;\n    const positionfRef = ref.current.offsetTop;\n    const startCordinatorsRef = positionfRef - heightRef;\n\n    if(currScrollY + offsetStartLazyload > startCordinatorsRef) {\n      const img = new Image();\n      img.src = src;\n      img.onload = () => setSourceLoaded(src);\n    };\n\t}, [src, ref, currScrollY]);\n\n\treturn sourceLoaded;\n};"],"mappings":"iGAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,kBAAP,KAA8B,2BAA9B,CAEA,GAAMC,oBAAmB,CAAG,GAA5B,CAAiC;AAEjC;AACA,MAAO,IAAMC,sBAAqB,CAAG,QAAxBA,sBAAwB,CAACC,GAAD,CAAMC,GAAN,CAAc,CAClD,cAAwCN,QAAQ,CAAC,IAAD,CAAhD,wCAAOO,YAAP,eAAqBC,eAArB,eACC,GAAMC,YAAW,CAAGP,iBAAiB,CAAC,EAAD,CAArC,CAEDD,SAAS,CAAC,UAAM,CACb,GAAG,CAACK,GAAG,CAACI,OAAL,EAAgB,CAACL,GAApB,CAAyB,OAEzB,GAAMM,UAAS,CAAGL,GAAG,CAACI,OAAJ,CAAYE,YAA9B,CACA,GAAMC,aAAY,CAAGP,GAAG,CAACI,OAAJ,CAAYI,SAAjC,CACA,GAAMC,oBAAmB,CAAGF,YAAY,CAAGF,SAA3C,CAEA,GAAGF,WAAW,CAAGN,mBAAd,CAAoCY,mBAAvC,CAA4D,CAC1D,GAAMC,IAAG,CAAG,GAAIC,MAAJ,EAAZ,CACAD,GAAG,CAACX,GAAJ,CAAUA,GAAV,CACAW,GAAG,CAACE,MAAJ,CAAa,iBAAMV,gBAAe,CAACH,GAAD,CAArB,EAAb,CACD,EACH,CAZQ,CAYN,CAACA,GAAD,CAAMC,GAAN,CAAWG,WAAX,CAZM,CAAT,CAcA,MAAOF,aAAP,CACA,CAnBM"},"metadata":{},"sourceType":"module"}